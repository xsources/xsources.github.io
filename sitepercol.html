<html>
 <head>
 <title>Site percolation simulation on square lattice</title>
 <style>
 body{
  font: 15px/1.5 Arial, Helvetica, sans-serif;
  padding: 0;
  margin: 0;
  background-color: #ffffff;
}
/* Global */
.container{
  width: 80%;
  margin: auto;
  overflow: hidden;
}
ul {
  margin: 0;
  padding: 0;
}
.button_1{
  height: 38px;
  background: #e8491d;
  border: 0;
  padding-left: 20px;
  padding-right: 20px;
  color: #ffffff;
}
.dark {
  padding: 15px;
  background: #35424a;
  color: #ffffff;
  margin-top: 10px;
  margin-bottom: 10px;
}
/* Header */
header {
  background: #35424a;
  color: #ffffff;
  padding-top: 30px;
  min-height: 70px;
  border-bottom: #e8491d 3px solid;
}
header a {
  color: #ffffff;
  text-decoration: none;
  text-transform: uppercase;
  font-size: 16px;
}
header li{
  float: left;
  display: inline;
  padding: 0 20px 0 20px;
}
header #branding {
  float: left;
}
header #branding h1 {
  margin: 0;
}
header nav {
  float: right;
  margin-top: 10px;
}
header .highlight, header .current a{
  color: #e8491d;
  font-weight: bold;
}
header a:hover{
  color: #cccccc;
  font-weight: bold;
}
/* Showcase */

#showcase h1 {
  margin-top:100px;
  font-size: 55px;
  margin-bottom: 10px;
}
#showcase p {
  font-size: 20px;
}
/* newsletter */
#newsletter {
  padding: 15px;
  color: #ffffff;
  background: #35424a;
}
#newsletter h1 {
 float: left;
}
#newsletter form {
  float: right;
  margin-top: 15px;
}
#newsletter input[type="email"]{
  padding: 4px;
  height: 25px;
  width: 250px;
}
/* boxes*/
#boxes {
  margin-top: 20px;
}
#boxes .box {
  float: left;
  text-align: center;
  width: 30%;
  padding: 10px;
}
#boxes .box img{
  width:90px;
}
/* Sidebar */
aside#sidebar {
  float: right;
  width: 30%;
  margin-top: 10px;
}
aside#sidebar .quote input, aside#sidebar .quote textarea{
  width: 90%;
  padding: 5px;
}
/*Main-col*/
article#main-col {
  float: left;
  width: 65%;  
}
/* Services */
ul#services li {
  list-style: none;
  padding: 20px;
  border: #cccccc solid 1px;
  margin-bottom: 5px;
  background: #e6e6e6;
}
/* footer */
footer {
  padding: 20px;
  margin-top: 20px;
  color: #ffffff;
  background-color: #e8491d;
  text-align: center;
}
/* Media Queries */
@media(max-width: 768px) {
  header #branding, 
  header nav,
  header nav li,
  #newlsetter h1,
  #newsletter form,
  #boxes .box,
  article#main-col,
  aside#sidebar{
    float: none;
    text-align: center;
    width: 100%
  }
  
  header {
   padding-bottom: 20px; 
  }
  
  #showcase h1 {
    margin-top: 40px;
  }
  
  #newletter button,  .quote button {
    dislplay: block;
    width: 100%;
  }
  
  #newsletter form input[type="email"], .quote input, .quote textarea{
   width: 100%;
   margin-bottom: 20px
  }
}
</style>
  </head>
<body>

  
  <section id="main">
    <div class="container">
      <article id="main-col">
        <h1 class="page-title">Interactive/ Site percolation simulation on square lattice</h1>  
  UPDATE: July, 2023
   <br>    
<p>Python simulation of site percolation on square lattice: 
 <p>Two python applications are presented here to simulate the 
 percolation process on the square lattice. The first, more flexible uses Django application while the second is 
 developed with the help of python Jupyter framework.</p>
 <p class="dark">1. Django python interactive app</p>
Percolation with django app (variable size with a square side varying between 10 and 1000) is here:
<li> <a href="https://pythonyx.pythonanywhere.com/percolation"> django python application</a>

         <p class="dark">2. Jupyter (html) python code and interactive app</p>

The second developed with the python Jupyter framework is represented by a percolation system on a (100x100) square lattice. 
 The application computes and updates by clicking on the "Next" button the following elements:

<li> the probability (p)
<li> the concentration (c) of "occupied sites"
 <li> the size of the lagest component (LC), colored in red
At the percolation threshold pc=0.5927, the largest component spans the percolation system by joining two opposite sides of the square grid.



       

      </article>
    </div>

    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container">
      



  <div class="cell text_cell">
    <button class="js-nbinteract-widget">
      Loading widgets...
    </button>
  </div>




  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="o">%</span><span class="k">config</span> InlineBackend.close_figures=False;import matplotlib.pyplot as plt2;
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span><span class="p">;</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">rcParams</span><span class="p">;</span><span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span><span class="p">;</span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">Layout</span><span class="p">;</span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span><span class="p">,</span><span class="n">clear_output</span><span class="p">;</span><span class="kn">import</span> <span class="nn">pylab</span> <span class="k">as</span> <span class="nn">lp</span><span class="p">;</span><span class="kn">from</span> <span class="nn">pylab</span> <span class="k">import</span> <span class="o">*</span><span class="p">;</span><span class="kn">from</span> <span class="nn">scipy.ndimage</span> <span class="k">import</span> <span class="n">measurements</span><span class="p">;</span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span><span class="p">,</span><span class="n">clear_output</span><span class="p">;</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span><span class="kn">import</span> <span class="nn">warnings</span><span class="p">;</span><span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">);</span><span class="n">N</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span><span class="n">cc</span><span class="o">=-</span><span class="mf">0.01</span><span class="p">;</span><span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">));</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;white&#39;</span><span class="p">];</span><span class="n">cmap</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">ListedColormap</span><span class="p">(</span><span class="n">colors</span><span class="p">);</span><span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">();</span><span class="n">out</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">();</span><span class="n">button</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Next&#39;</span><span class="p">);</span><span class="n">vbox</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="n">button</span><span class="p">));</span><span class="n">display</span><span class="p">(</span><span class="n">vbox</span><span class="p">);</span><span class="n">f</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span><span class="n">ax1</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">);</span><span class="n">ax2</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">);</span><span class="n">ax2</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">();</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span><span class="n">cc</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">plt2</span><span class="o">.</span><span class="n">gca</span><span class="p">();</span>
<span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">cc</span><span class="p">;</span>    <span class="n">cc</span> <span class="o">+=</span><span class="mf">0.02</span><span class="p">;</span>    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">R</span> <span class="o">&lt;</span> <span class="n">cc</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>    <span class="n">B1</span><span class="o">=</span><span class="n">logical_not</span><span class="p">(</span><span class="n">B</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span><span class="p">;</span>    <span class="n">lw</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="n">measurements</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">B</span><span class="p">);</span>    <span class="n">w</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">lw</span><span class="p">);</span>    <span class="n">area</span> <span class="o">=</span> <span class="n">measurements</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">lw</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">arange</span><span class="p">(</span><span class="n">lw</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>    <span class="n">sB</span><span class="o">=</span><span class="n">B</span><span class="o">.</span><span class="n">sum</span><span class="p">();</span>    <span class="n">w1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">area</span><span class="p">);</span>    <span class="n">ix</span><span class="o">=</span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">area</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">w1</span><span class="p">];</span>    <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ix</span><span class="p">);</span>        <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">lw</span> <span class="o">==</span><span class="n">a[0]</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>        <span class="n">C1</span> <span class="o">=</span> <span class="n">logical_not</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span><span class="p">;</span>    <span class="n">D</span><span class="o">=</span><span class="n">B1</span><span class="o">+</span><span class="n">C1</span><span class="p">;</span>        <span class="n">ama</span> <span class="o">=</span> <span class="n">logical_not</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span><span class="p">;</span>        <span class="n">sama</span><span class="o">=</span><span class="n">ama</span><span class="o">.</span><span class="n">sum</span><span class="p">();</span>        <span class="n">p</span><span class="o">=</span><span class="n">sB</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">N</span><span class="p">);</span>     <span class="n">im</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">);</span> 
    <span class="k">with</span> <span class="n">out</span><span class="p">:</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">sama</span><span class="o">/</span><span class="n">sB</span><span class="p">,</span><span class="s1">&#39;ro-&#39;</span><span class="p">);</span>        <span class="n">display</span><span class="p">(</span><span class="n">ax1</span><span class="o">.</span><span class="n">figure</span><span class="p">);</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p= &quot;</span><span class="p">,</span><span class="n">p</span><span class="p">,</span> <span class="s2">&quot;c= &quot;</span><span class="p">,</span><span class="n">sB</span><span class="p">,</span><span class="s2">&quot;LC= &quot;</span><span class="p">,</span><span class="n">sama</span><span class="p">,</span><span class="s2">&quot; Author: S.Boutiche&quot;</span><span class="p">);</span>        <span class="n">clear_output</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>

<span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">));</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">));</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]);</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]);</span><span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span><span class="n">plt2</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Percolation function&#39;</span><span class="p">);</span><span class="n">plt2</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;percolation probability (percolation threshold at pc=0.5927)&#39;</span><span class="p">);</span><span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\theta$(p)&#39;</span><span class="p">);</span>    
<span class="n">button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">click</span><span class="p">);</span>
<span class="n">click</span><span class="p">(</span><span class="kc">None</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    



  <div class="output_subarea output_widget_view ">
    <button class="js-nbinteract-widget">
      Loading widgets...
    </button>
  </div>

</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

  </div>



<!-- Loads nbinteract package -->
<script src="https://unpkg.com/nbinteract-core" async></script>
<script>
  (function setupNbinteract() {
    // If NbInteract hasn't loaded, wait one second and try again
    if (window.NbInteract === undefined) {
      setTimeout(setupNbinteract, 1000)
      return
    }
    var interact = new window.NbInteract({
      spec: 'SamLau95/nbinteract-image/master',
      baseUrl: 'https://mybinder.org',
      provider: 'gh',
    })
    interact.prepare()
    window.interact = interact
  })()
</script>
    </div>
  </div>
    </section>

<br>
  <p class="dark">3. Jupyter python repository</p>
In another github repository, is released the jupyter code that can be run on the Binder environment (mybinder.org). 
two apps are presented:
<li>perco.ipynb (simulation of this web application)
<li>square_perco.ipynb (simulation of N by N, N=variable, square site percolation application)
To run it, just click the "launch binder" logo in the following <a href="https://github.com/xsources/python-percolation">"python-percolation" github repository</a>
       </p>

 
</body>
</html>
